{"ast":null,"code":"import React,{useState}from'react';import{createBooking}from'../api.js';import{Button,Typography,Box,List,ListItem,ListItemText}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Confirmation=_ref=>{let{formData,prevStep}=_ref;const[submitting,setSubmitting]=useState(false);const[success,setSuccess]=useState(false);const[error,setError]=useState('');const handleSubmit=async()=>{try{setSubmitting(true);await createBooking({firstName:formData.firstName,lastName:formData.lastName,vehicleId:parseInt(formData.vehicleModel),startDate:formData.startDate,endDate:formData.endDate});setSuccess(true);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Failed to submit booking');}finally{setSubmitting(false);}};if(success){return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Booking Confirmed!\"}),/*#__PURE__*/_jsxs(Typography,{children:[\"Thank you for your booking, \",formData.firstName,\"!\"]})]});}return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,children:\"Confirm Your Booking\"}),/*#__PURE__*/_jsxs(List,{children:[/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Name\",secondary:`${formData.firstName} ${formData.lastName}`})}),/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Wheels\",secondary:formData.wheelCount})}),/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Vehicle Model\",secondary:formData.vehicleModel})}),/*#__PURE__*/_jsx(ListItem,{children:/*#__PURE__*/_jsx(ListItemText,{primary:\"Rental Period\",secondary:`${new Date(formData.startDate).toLocaleDateString()} - ${new Date(formData.endDate).toLocaleDateString()}`})})]}),error&&/*#__PURE__*/_jsx(Typography,{color:\"error\",gutterBottom:true,children:error}),/*#__PURE__*/_jsxs(Box,{mt:2,display:\"flex\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:prevStep,children:\"Back\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:handleSubmit,disabled:submitting,children:submitting?'Submitting...':'Confirm Booking'})]})]});};export default Confirmation;","map":{"version":3,"names":["React","useState","createBooking","Button","Typography","Box","List","ListItem","ListItemText","jsx","_jsx","jsxs","_jsxs","Confirmation","_ref","formData","prevStep","submitting","setSubmitting","success","setSuccess","error","setError","handleSubmit","firstName","lastName","vehicleId","parseInt","vehicleModel","startDate","endDate","err","_err$response","_err$response$data","response","data","children","variant","gutterBottom","primary","secondary","wheelCount","Date","toLocaleDateString","color","mt","display","justifyContent","onClick","disabled"],"sources":["F:/vehicle-rental-booking/frontend/src/components/Confirmation.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { createBooking } from '../api.js';\nimport { Button, Typography, Box, List, ListItem, ListItemText } from '@mui/material';\n\nconst Confirmation = ({ formData, prevStep }) => {\n  const [submitting, setSubmitting] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [error, setError] = useState('');\n\n  const handleSubmit = async () => {\n    try {\n      setSubmitting(true);\n      await createBooking({\n        firstName: formData.firstName,\n        lastName: formData.lastName,\n        vehicleId: parseInt(formData.vehicleModel),\n        startDate: formData.startDate,\n        endDate: formData.endDate\n      });\n      setSuccess(true);\n    } catch (err) {\n      setError(err.response?.data?.error || 'Failed to submit booking');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  if (success) {\n    return (\n      <Box>\n        <Typography variant=\"h4\" gutterBottom>Booking Confirmed!</Typography>\n        <Typography>Thank you for your booking, {formData.firstName}!</Typography>\n      </Box>\n    );\n  }\n\n  return (\n    <Box>\n      <Typography variant=\"h4\" gutterBottom>Confirm Your Booking</Typography>\n      <List>\n        <ListItem>\n          <ListItemText primary=\"Name\" secondary={`${formData.firstName} ${formData.lastName}`} />\n        </ListItem>\n        <ListItem>\n          <ListItemText primary=\"Wheels\" secondary={formData.wheelCount} />\n        </ListItem>\n        <ListItem>\n          <ListItemText primary=\"Vehicle Model\" secondary={formData.vehicleModel} />\n        </ListItem>\n        <ListItem>\n          <ListItemText \n            primary=\"Rental Period\" \n            secondary={`${new Date(formData.startDate).toLocaleDateString()} - ${new Date(formData.endDate).toLocaleDateString()}`} \n          />\n        </ListItem>\n      </List>\n      {error && (\n        <Typography color=\"error\" gutterBottom>\n          {error}\n        </Typography>\n      )}\n      <Box mt={2} display=\"flex\" justifyContent=\"space-between\">\n        <Button variant=\"outlined\" onClick={prevStep}>Back</Button>\n        <Button \n          variant=\"contained\" \n          color=\"primary\" \n          onClick={handleSubmit}\n          disabled={submitting}\n        >\n          {submitting ? 'Submitting...' : 'Confirm Booking'}\n        </Button>\n      </Box>\n    </Box>\n  );\n};\n\nexport default Confirmation;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}