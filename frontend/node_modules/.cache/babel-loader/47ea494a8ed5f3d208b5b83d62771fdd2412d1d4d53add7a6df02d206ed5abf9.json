{"ast":null,"code":"import React,{useEffect,useState}from'react';import{getVehiclesByType}from'../api';import{Button,Typography,Box,Radio,RadioGroup,FormControlLabel,FormControl,CircularProgress,Alert}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const VehicleModelForm=_ref=>{let{formData,handleChange,nextStep,prevStep}=_ref;const[vehicles,setVehicles]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);useEffect(()=>{const fetchVehicles=async()=>{if(!formData.vehicleType)return;setLoading(true);setError(null);try{const response=await getVehiclesByType(formData.vehicleType);setVehicles(response.data.vehicles||[]);}catch(err){console.error('Error fetching vehicles:',err);setError('Failed to load vehicle models. Please try again.');setVehicles([]);}finally{setLoading(false);}};fetchVehicles();},[formData.vehicleType]);const handleSubmit=e=>{e.preventDefault();if(formData.vehicleModel){nextStep();}};return/*#__PURE__*/_jsxs(Box,{sx:{p:2},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Select Specific Model\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormControl,{component:\"fieldset\",fullWidth:true,children:loading?/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",children:/*#__PURE__*/_jsx(CircularProgress,{})}):vehicles.length>0?/*#__PURE__*/_jsx(RadioGroup,{\"aria-label\":\"vehicleModel\",name:\"vehicleModel\",value:formData.vehicleModel||'',onChange:handleChange('vehicleModel'),children:vehicles.map(vehicle=>/*#__PURE__*/_jsx(FormControlLabel,{value:vehicle.id.toString(),control:/*#__PURE__*/_jsx(Radio,{}),label:vehicle.name||vehicle.model},vehicle.id))}):/*#__PURE__*/_jsx(Typography,{variant:\"body1\",color:\"text.secondary\",children:\"No models available for selected type\"})}),/*#__PURE__*/_jsxs(Box,{mt:4,display:\"flex\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:prevStep,children:\"Back\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",disabled:!formData.vehicleModel||loading,children:\"Next\"})]})]})]});};export default VehicleModelForm;","map":{"version":3,"names":["React","useEffect","useState","getVehiclesByType","Button","Typography","Box","Radio","RadioGroup","FormControlLabel","FormControl","CircularProgress","Alert","jsx","_jsx","jsxs","_jsxs","VehicleModelForm","_ref","formData","handleChange","nextStep","prevStep","vehicles","setVehicles","loading","setLoading","error","setError","fetchVehicles","vehicleType","response","data","err","console","handleSubmit","e","preventDefault","vehicleModel","sx","p","children","variant","gutterBottom","severity","mb","onSubmit","component","fullWidth","display","justifyContent","length","name","value","onChange","map","vehicle","id","toString","control","label","model","color","mt","onClick","type","disabled"],"sources":["F:/vehicle-rental-booking/frontend/src/components/VehicleModelForm.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { getVehiclesByType } from '../api';\nimport { \n  Button, \n  Typography, \n  Box, \n  Radio, \n  RadioGroup, \n  FormControlLabel, \n  FormControl, \n  CircularProgress,\n  Alert\n} from '@mui/material';\n\nconst VehicleModelForm = ({ formData, handleChange, nextStep, prevStep }) => {\n  const [vehicles, setVehicles] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchVehicles = async () => {\n      if (!formData.vehicleType) return;\n      \n      setLoading(true);\n      setError(null);\n      \n      try {\n        const response = await getVehiclesByType(formData.vehicleType);\n        setVehicles(response.data.vehicles || []);\n      } catch (err) {\n        console.error('Error fetching vehicles:', err);\n        setError('Failed to load vehicle models. Please try again.');\n        setVehicles([]);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchVehicles();\n  }, [formData.vehicleType]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (formData.vehicleModel) {\n      nextStep();\n    }\n  };\n\n  return (\n    <Box sx={{ p: 2 }}>\n      <Typography variant=\"h5\" gutterBottom>\n        Select Specific Model\n      </Typography>\n      \n      {error && <Alert severity=\"error\" sx={{ mb: 2 }}>{error}</Alert>}\n      \n      <form onSubmit={handleSubmit}>\n        <FormControl component=\"fieldset\" fullWidth>\n          {loading ? (\n            <Box display=\"flex\" justifyContent=\"center\">\n              <CircularProgress />\n            </Box>\n          ) : vehicles.length > 0 ? (\n            <RadioGroup\n              aria-label=\"vehicleModel\"\n              name=\"vehicleModel\"\n              value={formData.vehicleModel || ''}\n              onChange={handleChange('vehicleModel')}\n            >\n              {vehicles.map(vehicle => (\n                <FormControlLabel \n                  key={vehicle.id} \n                  value={vehicle.id.toString()} \n                  control={<Radio />} \n                  label={vehicle.name || vehicle.model} \n                />\n              ))}\n            </RadioGroup>\n          ) : (\n            <Typography variant=\"body1\" color=\"text.secondary\">\n              No models available for selected type\n            </Typography>\n          )}\n        </FormControl>\n\n        <Box mt={4} display=\"flex\" justifyContent=\"space-between\">\n          <Button variant=\"outlined\" onClick={prevStep}>\n            Back\n          </Button>\n          <Button \n            type=\"submit\" \n            variant=\"contained\"\n            disabled={!formData.vehicleModel || loading}\n          >\n            Next\n          </Button>\n        </Box>\n      </form>\n    </Box>\n  );\n};\n\nexport default VehicleModelForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}