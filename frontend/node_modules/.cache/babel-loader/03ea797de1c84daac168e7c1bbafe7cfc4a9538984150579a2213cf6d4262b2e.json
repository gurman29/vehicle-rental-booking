{"ast":null,"code":"var _jsxFileName = \"F:\\\\vehicle-rental-booking\\\\frontend\\\\src\\\\pages\\\\BookingForm.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Stepper, Step, StepLabel, Button, Box, Container } from '@mui/material';\nimport axios from 'axios';\nimport NameStep from '../components/NameStep';\nimport WheelsStep from '../components/WheelsStep';\nimport VehicleTypeStep from '../components/VehicleTypeStep';\nimport VehicleStep from '../components/VehicleStep';\nimport DateStep from '../components/DateStep';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst steps = ['Name', 'Wheels', 'Vehicle Type', 'Vehicle Model', 'Dates'];\nexport default function BookingForm() {\n  _s();\n  const [activeStep, setActiveStep] = useState(0);\n  const [vehicleTypes, setVehicleTypes] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  const {\n    control,\n    handleSubmit,\n    watch,\n    setValue,\n    trigger\n  } = useForm();\n  useEffect(() => {\n    // Load vehicle types initially\n    axios.get('/api/vehicle-types').then(res => setVehicleTypes(res.data)).catch(err => console.error(err));\n  }, []);\n  const selectedType = watch('vehicleType');\n  useEffect(() => {\n    // Load vehicles when type is selected\n    if (selectedType) {\n      axios.get(`/api/vehicle-types/${selectedType}/vehicles`).then(res => setVehicles(res.data.vehicles)).catch(err => console.error(err));\n    }\n  }, [selectedType]);\n  const handleNext = async () => {\n    const isValid = await trigger();\n    if (isValid) setActiveStep(prev => prev + 1);\n  };\n  const onSubmit = async data => {\n    try {\n      await axios.post('/api/bookings', {\n        userId: 1,\n        // Hardcoded for demo\n        vehicleId: data.vehicle,\n        startDate: data.startDate,\n        endDate: data.endDate\n      });\n      alert('Booking successful!');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Booking failed:', error);\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'Booking failed');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"md\",\n    sx: {\n      py: 4\n    },\n    children: [/*#__PURE__*/_jsxDEV(Stepper, {\n      activeStep: activeStep,\n      children: steps.map(label => /*#__PURE__*/_jsxDEV(Step, {\n        children: /*#__PURE__*/_jsxDEV(StepLabel, {\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 47\n        }, this)\n      }, label, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 29\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit(onSubmit),\n      children: [activeStep === 0 && /*#__PURE__*/_jsxDEV(NameStep, {\n        control: control\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 30\n      }, this), activeStep === 1 && /*#__PURE__*/_jsxDEV(WheelsStep, {\n        setValue: setValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 30\n      }, this), activeStep === 2 && /*#__PURE__*/_jsxDEV(VehicleTypeStep, {\n        vehicleTypes: vehicleTypes,\n        setValue: setValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), activeStep === 3 && /*#__PURE__*/_jsxDEV(VehicleStep, {\n        vehicles: vehicles,\n        setValue: setValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this), activeStep === 4 && /*#__PURE__*/_jsxDEV(DateStep, {\n        control: control\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 30\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: 'space-between',\n          mt: 4\n        },\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          disabled: activeStep === 0,\n          onClick: () => setActiveStep(prev => prev - 1),\n          variant: \"outlined\",\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this), activeStep === steps.length - 1 ? /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          children: \"Submit Booking\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: handleNext,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(BookingForm, \"gkrkElzHtShZzdYZo6JWFYNc9IQ=\", false, function () {\n  return [useForm];\n});\n_c = BookingForm;\nvar _c;\n$RefreshReg$(_c, \"BookingForm\");","map":{"version":3,"names":["useState","useEffect","useForm","Stepper","Step","StepLabel","Button","Box","Container","axios","NameStep","WheelsStep","VehicleTypeStep","VehicleStep","DateStep","jsxDEV","_jsxDEV","steps","BookingForm","_s","activeStep","setActiveStep","vehicleTypes","setVehicleTypes","vehicles","setVehicles","control","handleSubmit","watch","setValue","trigger","get","then","res","data","catch","err","console","error","selectedType","handleNext","isValid","prev","onSubmit","post","userId","vehicleId","vehicle","startDate","endDate","alert","_error$response","_error$response$data","response","maxWidth","sx","py","children","map","label","fileName","_jsxFileName","lineNumber","columnNumber","display","justifyContent","mt","disabled","onClick","variant","length","type","color","_c","$RefreshReg$"],"sources":["F:/vehicle-rental-booking/frontend/src/pages/BookingForm.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { Stepper, Step, StepLabel, Button, Box, Container } from '@mui/material';\nimport axios from 'axios';\nimport NameStep from '../components/NameStep';\nimport WheelsStep from '../components/WheelsStep';\nimport VehicleTypeStep from '../components/VehicleTypeStep';\nimport VehicleStep from '../components/VehicleStep';\nimport DateStep from '../components/DateStep';\n\nconst steps = ['Name', 'Wheels', 'Vehicle Type', 'Vehicle Model', 'Dates'];\n\nexport default function BookingForm() {\n  const [activeStep, setActiveStep] = useState(0);\n  const [vehicleTypes, setVehicleTypes] = useState([]);\n  const [vehicles, setVehicles] = useState([]);\n  const { control, handleSubmit, watch, setValue, trigger } = useForm();\n\n  useEffect(() => {\n    // Load vehicle types initially\n    axios.get('/api/vehicle-types')\n      .then(res => setVehicleTypes(res.data))\n      .catch(err => console.error(err));\n  }, []);\n\n  const selectedType = watch('vehicleType');\n  \n  useEffect(() => {\n    // Load vehicles when type is selected\n    if (selectedType) {\n      axios.get(`/api/vehicle-types/${selectedType}/vehicles`)\n        .then(res => setVehicles(res.data.vehicles))\n        .catch(err => console.error(err));\n    }\n  }, [selectedType]);\n\n  const handleNext = async () => {\n    const isValid = await trigger();\n    if (isValid) setActiveStep(prev => prev + 1);\n  };\n\n  const onSubmit = async (data) => {\n    try {\n      await axios.post('/api/bookings', {\n        userId: 1, // Hardcoded for demo\n        vehicleId: data.vehicle,\n        startDate: data.startDate,\n        endDate: data.endDate\n      });\n      alert('Booking successful!');\n    } catch (error) {\n      console.error('Booking failed:', error);\n      alert(error.response?.data?.error || 'Booking failed');\n    }\n  };\n\n  return (\n    <Container maxWidth=\"md\" sx={{ py: 4 }}>\n      <Stepper activeStep={activeStep}>\n        {steps.map(label => <Step key={label}><StepLabel>{label}</StepLabel></Step>)}\n      </Stepper>\n      \n      <form onSubmit={handleSubmit(onSubmit)}>\n        {activeStep === 0 && <NameStep control={control} />}\n        {activeStep === 1 && <WheelsStep setValue={setValue} />}\n        {activeStep === 2 && (\n          <VehicleTypeStep \n            vehicleTypes={vehicleTypes} \n            setValue={setValue} \n          />\n        )}\n        {activeStep === 3 && (\n          <VehicleStep \n            vehicles={vehicles} \n            setValue={setValue} \n          />\n        )}\n        {activeStep === 4 && <DateStep control={control} />}\n\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 4 }}>\n          <Button \n            disabled={activeStep === 0} \n            onClick={() => setActiveStep(prev => prev - 1)}\n            variant=\"outlined\"\n          >\n            Back\n          </Button>\n          {activeStep === steps.length - 1 ? (\n            <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n              Submit Booking\n            </Button>\n          ) : (\n            <Button variant=\"contained\" color=\"primary\" onClick={handleNext}>\n              Next\n            </Button>\n          )}\n        </Box>\n      </form>\n    </Container>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}